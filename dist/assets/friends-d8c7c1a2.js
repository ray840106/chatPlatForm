import{z as C,u as I,e as F,c as p,r as h,f as i,o as m,a as b,b as e,t as s,d as g,h as v,k,l as x}from"./index-875e2a01.js";import{D as _}from"./dialog-67f4689d.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={class:"p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 mt-16 md:mt-16 lg:mt-0"},E={class:"grid gap-6 mb-6 md:grid-cols-2"},N=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"First name",-1),P={class:"p-2"},$=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Last name",-1),M={class:"p-2"},R=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Company",-1),L={class:"p-2"},B=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Phone number",-1),D={class:"p-2"},V={class:"mb-6"},q=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email address",-1),O={class:"p-2"},j=e("hr",null,null,-1),z={key:0,class:"mt-3 inline-block"},H={key:1,class:"mt-3 inline-block"},Y={key:2,class:"mt-3 inline-block"},W={__name:"friends",setup(G){const y=C(),a=I(),c=F(),d=p(()=>a.state.loginInfo),o=p(()=>a.state.friend),u=y.query.token||null,f=h(!1),r=h(!1);u&&w();function S(){i({method:"post",url:"API/friends",params:{method:"updFriend",loginInfo:d.value},data:{item:{STATUS:o.value.STATUS,token:u}}}).then(function(n){n.data.hasOwnProperty("get_friends")?a.dispatch("a_friends",n.data.get_friends):c.push({path:"/addFriend"})})}function w(){i({method:"post",url:"API/friends",params:{method:"getFriend",loginInfo:d.value},data:{item:{token:u}}}).then(function(n){a.dispatch("a_friend",n.data.get_friend)})}function A(){i({method:"post",url:"API/rooms",params:{method:"getRoom",loginInfo:d.value},data:{item:{token:u}}}).then(function(n){c.push({name:"chatPlatForm",query:{token:n.data.get_room.token}})})}function T(){i({method:"post",url:"API/friends",params:{method:"delFriend",loginInfo:d.value},data:{item:{token:u}}}).then(function(n){a.dispatch("a_friends",n.data.get_friends),c.push({path:"/addFriend"})})}return(n,t)=>(m(),b("div",U,[e("div",E,[e("div",null,[N,e("span",P,s(o.value.FIRST_NAME),1)]),e("div",null,[$,e("span",M,s(o.value.LAST_NAME),1)]),e("div",null,[R,e("span",L,s(o.value.COMPANY),1)]),e("div",null,[B,e("span",D,s(o.value.PHONE_NUMBER),1)])]),e("div",V,[q,e("span",O,s(o.value.EMAIL),1)]),e("div",null,[j,o.value.STATUS==-200?(m(),b("div",z,[e("button",{onClick:t[0]||(t[0]=l=>{o.value.STATUS=1,f.value=!0}),type:"button",class:"mx-2 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Agree"),e("button",{onClick:t[1]||(t[1]=l=>r.value=!0),type:"button",class:"mx-2 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Reject")])):g("",!0),o.value.STATUS==1?(m(),b("div",H,[e("button",{onClick:t[2]||(t[2]=l=>A()),type:"button",class:"mx-2 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Chat")])):g("",!0),o.value.STATUS==-201||o.value.STATUS==1?(m(),b("div",Y,[e("button",{onClick:t[3]||(t[3]=l=>r.value=!0),type:"button",class:"mx-2 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},s(o.value.STATUS==1?"Delete Friend":"Cancel Request"),1)])):g("",!0)]),v(_,{onConfirm:t[4]||(t[4]=l=>S()),openShow:f.value,onClose:t[5]||(t[5]=l=>f.value=!1)},{body:k(()=>[x(" 同意好友申請:"+s(o.value.EMAIL),1)]),_:1},8,["openShow"]),v(_,{onConfirm:t[6]||(t[6]=l=>T()),openShow:r.value,onClose:t[7]||(t[7]=l=>r.value=!1)},{body:k(()=>[x(s((o.value.STATUS==1?"刪除好友: ":"拒絕申請: ")+o.value.EMAIL),1)]),_:1},8,["openShow"])]))}};export{W as default};
