import{u as $,z as ee,c as K,r as c,A as te,B as oe,f as h,g as ne,o as s,a as r,b as t,j as f,t as w,m as R,F as v,i as x,h as p,q as _,C as D,k as se,n as k,d as I,l as ae}from"./index-124aa391.js";import{s as A}from"./sendWS-cc91bdd3.js";import{S as C}from"./sweetalert2.all-75d83f30.js";import{C as re}from"./chatButton-e63a1c39.js";import{r as le}from"./PaperAirplaneIcon-2396592a.js";const ie="/assets/smile-2c7deeca.png",de="/assets/best_dog_hey-91b1c712.png",ce=["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","‍💨","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","‍💫","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾"],ue={class:"h-screen flex items-center w-screen md:ml-80"},he={class:"lg:w-1/2 w-full rounded-lg overflow-hidden shadow-lg bg-white"},ge={class:"bg-blue-600 py-4 px-6 text-white"},fe={class:"text-lg font-semibold"},ve=["src"],pe={class:"ml-3"},ke={key:0,class:"flex items-center"},be=t("div",{class:"w-full border-t border-gray-500"},null,-1),me={class:"px-4 whitespace-nowrap"},ye=t("div",{class:"w-full border-t border-gray-500"},null,-1),we={class:"flex"},xe=["src"],Ee={class:"ml-3"},Me=["innerHTML"],Ie=["innerHTML"],Ae=["src"],Se=["href"],Te={class:"border-t px-6 py-4"},Le={class:"flex space-x-2"},Re={class:"flex items-center"},_e={class:"flex items-center"},De=["innerHTML"],Ce=t("h5",{id:"drawer-navigation-label",class:"text-base font-semibold text-gray-500 uppercase dark:text-gray-400"},"Sticker",-1),Ne=t("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),qe=t("span",{class:"sr-only"},"Close menu",-1),Pe=[Ne,qe],Be={class:"py-4 overflow-y-auto"},Ke={class:"inline-flex rounded-md shadow-sm mb-3",role:"group"},Fe=t("img",{src:ie,alt:"",class:"w-8 h-8"},null,-1),Qe=[Fe],Oe=t("img",{src:de,alt:"",class:"w-8 h-8"},null,-1),je=[Oe],Ue={key:0,class:"grid grid-cols-6"},We=["onClick"],Ye={class:"text-2xl"},Ze={key:1,class:"grid grid-cols-2"},Ge=["onClick"],ze=["src"],He=["onClick"],Ve=["src"],Xe={key:2,class:"grid grid-cols-2"},Je=["onClick"],$e=["src"],rt={__name:"chatPlatForm",setup(et){const S=$(),d=ee(),l=K(()=>S.state.loginInfo),N=K(()=>S.state.messages),g=c(""),E=c(""),q=c(null),b=c(1),M=c(!1),m=c(!1),P=c([]),B=c([]),T=c([]),y=c({});J(),te(async()=>{await oe();const o=q.value;o.scrollTo({top:o.scrollHeight}),await A({roomData:d.query.token})}),d.query.token&&(F(),A({roomData:d.query.token}));function F(){h({method:"post",url:"API/messages",params:{method:"getMessage",loginInfo:l.value},data:{item:{token:d.query.token}}}).then(function(o){S.dispatch("a_updMessages",o.data.get_messages)})}function L(o){let n=o==2?E.value:g.value;!g.value&&!E.value||h({method:"post",url:"API/messages",params:{method:"insMessage",loginInfo:l.value},data:{item:{token:d.query.token,text:n,textType:o}}}).then(function(a){let e=a.data.get_messages[a.data.get_messages.length-1];e.token=d.query.token,e.ROOMID=d.query.ROOMID,o!=2?g.value="":E.value="",A({updData:e})})}function Q(o){g.value=o.target.innerHTML}function O(){window.addEventListener("paste",j)}function j(o){o.preventDefault();const n=(o.clipboardData||window.clipboardData).getData("text/plain");var a=document.createElement("span");a.innerHTML=n,window.getSelection().getRangeAt(0).insertNode(a)}function U(o){E.value+=`<img src=${o} class='h-36 w-36 inline-block'/>`,L(2)}function W(o){o.keyCode===13&&!o.shiftKey&&(g.value=o.target.innerHTML,o.preventDefault(),L(1))}async function Y(o){const n=o.target.files.item(0),a=new FormData;a.append("file",n),await h({method:"post",url:"API/file",params:{method:"uploadMessage",loginInfo:l.value,token:d.query.token},data:a}).then(function(e){let i=e.data.get_messages[e.data.get_messages.length-1];i.token=d.query.token,i.ROOMID=d.query.ROOMID,g.value="",A({updData:i})})}function Z(){h({method:"post",url:"API/stickers",params:{method:"getOwnStickers",loginInfo:l.value}}).then(function(o){B.value=o.data.own_sticker_list,b.value=2})}function G(){h({method:"post",url:"API/stickers",params:{method:"getMyStickers",loginInfo:l.value},data:{store_TF:!0}}).then(function(o){P.value=o.data.get_sticker_group,b.value=3})}async function z(o){h({method:"post",url:"API/stickers",params:{method:"getStickers",loginInfo:l.value},data:{sticker_group:o}}).then(async function(n){let a=n.data.get_sticker,e=l.value.mobile?'<div class="grid-cols-1 grid overflow-y-auto max-h-96">':'<div class="grid-cols-2 grid overflow-y-auto max-h-96">';for(let u=0;u<a.length;u++)e+=`<img src='${a[u].IMG_SRC}' class="h-56 w-56">`;e+="</div>",(await C.fire({icon:"question",title:"Do you confirm buy?",html:e,showDenyButton:!0,confirmButtonText:"OK",denyButtonText:"CANCEL"})).isConfirmed&&H(o)})}async function H(o){await C.fire({icon:"question",html:`<button id="LinePay" class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"><img src="https://d.line-scdn.net/linepay/portal/v-231221/portal/assets/img/linepay-logo-tw.png?dm=1703123305091" width="100" height="100"></button>
           <button id="ECPay" class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"><img src="data:image/png;base64,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" width="100" height="100"></button>`,showCancelButton:!0,showConfirmButton:!1,didRender:function(){document.getElementById("LinePay").addEventListener("click",()=>{V(o)}),document.getElementById("ECPay").addEventListener("click",()=>{X(o)})}})}async function V(o){h({method:"post",url:"API/payment",params:{method:"LinePay",loginInfo:l.value},data:{item:o}}).then(function(n){n.data.callbackUrl!=""?(console.log(n.data.callbackUrl),location.href=n.data.callbackUrl):C.fire(n.data.message,"","warning")})}async function X(o){h({method:"post",url:"API/payment",params:{method:"ECPay",loginInfo:l.value},data:{item:o}}).then(function(n){console.log(n.data)})}function J(){h({method:"post",url:"API/friends",params:{method:"getFriend",loginInfo:l.value},data:{item:{token:d.query.token}}}).then(function(o){y.value=o.data.get_friend})}return(o,n)=>{const a=ne("font-awesome-icon");return s(),r(v,null,[t("div",ue,[t("div",he,[t("div",ge,[t("h2",fe,[y.value.headshot?(s(),r("img",{key:0,class:"w-8 h-8 rounded-full bg-white border-inherit border-1 inline-block",src:y.value.headshot},null,8,ve)):(s(),f(a,{key:1,icon:"w-8 h-8 fa-solid fa-user inline-block"})),t("span",pe,w(R(d).query.FRIEND_EMAIL),1)])]),t("div",{ref_key:"messageBody",ref:q,class:"py-4 px-6 space-y-4 h-96 overflow-auto"},[(s(!0),r(v,null,x(N.value,(e,i)=>(s(),r("div",{class:"mb-3",key:e.id},[N.value.findIndex(u=>u.INS_DATE.includes(e.INS_DATE))==i?(s(),r("div",ke,[be,t("div",me,w(e.INS_DATE),1),ye])):I("",!0),t("div",{class:k(["grid",e.INS_USER==l.value.EMAIL?"justify-items-end":"justify-items-start"])},[t("div",we,[y.value.headshot&&e.INS_USER!=l.value.EMAIL?(s(),r("img",{key:0,class:"w-8 h-8 rounded-full border-inherit border-2 inline-block",src:y.value.headshot},null,8,xe)):e.INS_USER!=l.value.EMAIL?(s(),f(a,{key:1,icon:"w-8 h-8 fa-solid fa-user inline-block"})):I("",!0),t("div",Ee,[e.TYPE==1?(s(),r("div",{key:0,class:k(["text-base px-4 py-3 rounded-tl-2xl rounded-tr-2xl",e.INS_USER==l.value.EMAIL?"bg-cyan-400 rounded-bl-2xl":"bg-slate-300 rounded-br-2xl"]),innerHTML:e.CONTENT},null,10,Me)):e.TYPE==2?(s(),r("div",{key:1,innerHTML:e.CONTENT},null,8,Ie)):e.TYPE==3?(s(),r("div",{key:2,class:k(["text-base px-4 py-3 rounded-tl-2xl rounded-tr-2xl",e.INS_USER==l.value.EMAIL?"bg-cyan-400 rounded-bl-2xl":"bg-slate-300 rounded-br-2xl"])},[t("img",{src:e.CONTENT,alt:"",class:"h-20 w-20"},null,8,Ae)],2)):e.TYPE==4?(s(),r("div",{key:3,class:k(["w-44 text-base px-4 py-3 rounded-tl-2xl rounded-tr-2xl",e.INS_USER==l.value.EMAIL?"bg-cyan-400 rounded-bl-2xl":"bg-slate-300 rounded-br-2xl"])},[t("a",{href:e.CONTENT,download:"",target:"_blank",class:"grid grid-cols-2"},[t("div",null,[e.FILE_TYPE.includes("pdf")?(s(),f(a,{key:0,icon:"fa-solid fa-file-pdf",class:"h-12 w-12"})):e.FILE_TYPE.includes("doc")?(s(),f(a,{key:1,icon:"fa-solid fa-file-word",class:"h-12 w-12"})):e.FILE_TYPE.includes("sheet")?(s(),f(a,{key:2,icon:"fa-solid fa-file-excel",class:"h-12 w-12"})):e.FILE_TYPE.includes("zip")?(s(),f(a,{key:3,icon:"fa-regular fa-file-zipper",class:"h-12 w-12"})):I("",!0)]),t("div",null,[t("span",null,w(e.FILE_NAME),1)])],8,Se)],2)):I("",!0),t("div",{class:k(["text-xs text-slate-400",e.INS_USER==l.value.EMAIL?"float-right":"float-left"])},w(`${new Date(e.INS_DATE_TIME).getHours()}:${new Date(e.INS_DATE_TIME).getMinutes()}`),3)])])],2)]))),128))],512),t("div",Te,[t("div",Le,[t("div",Re,[t("label",null,[p(a,{icon:"fa-solid fa-paperclip",class:"h-6 w-6 cursor-pointer"}),t("input",{id:"dropzone-file",type:"file",class:"hidden",onChange:Y},null,32)])]),t("div",_e,[p(a,{icon:"fa-solid fa-face-smile",class:"h-6 w-6 cursor-pointer",onClick:n[0]||(n[0]=e=>M.value=!M.value)})]),t("div",{contenteditable:"true",innerHTML:g.value,class:"flex-grow border rounded p-2 focus:outline-none focus:ring focus:border-blue-400",onFocus:O,onBlur:Q,onKeydown:W},null,40,De),p(R(le),{class:"w-6 h-6 cursor-pointer align-middle mt-2",onClick:n[1]||(n[1]=e=>L(1))})])])])]),t("div",{id:"drawer-navigation",class:k([M.value?"-translate-x-full":""," fixed top-16 -right-64 z-40 w-64 h-screen p-4 overflow-y-auto transition-transform bg-white dark:bg-gray-800"]),tabindex:"-1","aria-labelledby":"drawer-navigation-label"},[Ce,t("button",{onClick:n[2]||(n[2]=e=>M.value=!1),type:"button","data-drawer-hide":"drawer-navigation","aria-controls":"drawer-navigation",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white"},Pe),t("div",Be,[t("div",Ke,[t("button",{type:"button",onClick:n[3]||(n[3]=e=>b.value=1),class:"px-2 py-1 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"},Qe),t("button",{type:"button",onClick:n[4]||(n[4]=e=>Z()),class:"px-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"},je),t("button",{type:"button",onClick:n[5]||(n[5]=e=>G()),class:"px-3 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"},[p(a,{icon:"fa-solid fa-store",alt:"",class:"w-6 h-6 text-sky-600"})])]),_(p(re,{size:"sm",variant:"primary",class:"my-2",onClick:n[6]||(n[6]=e=>{T.value=[],m.value=!1})},{default:se(()=>[ae("返回")]),_:1},512),[[D,m.value]]),b.value==1?(s(),r("div",Ue,[(s(!0),r(v,null,x(R(ce),(e,i)=>(s(),r("div",{key:i,onClick:u=>g.value+=e,class:"cursor-pointer"},[t("span",Ye,w(e),1)],8,We))),128))])):b.value==2?(s(),r("div",Ze,[(s(!0),r(v,null,x(B.value,(e,i)=>_((s(),r("div",{key:i},[t("button",{onClick:u=>{T.value=e.stickers,m.value=!0}},[t("img",{src:e.PREVIEW,alt:""},null,8,ze)],8,Ge)])),[[D,!m.value]])),128)),(s(!0),r(v,null,x(T.value,(e,i)=>_((s(),r("div",{key:i},[t("button",{onClick:u=>U(e.IMG_SRC)},[t("img",{src:e.IMG_SRC,alt:""},null,8,Ve)],8,He)])),[[D,m.value]])),128))])):(s(),r("div",Xe,[(s(!0),r(v,null,x(P.value,(e,i)=>(s(),r("div",{class:"relative opacity-50",key:i},[t("button",{onClick:u=>z(e)},[t("img",{src:e.PREVIEW,alt:"",style:{"min-width":"6rem"}},null,8,$e)],8,Je),p(a,{icon:"fa-solid fa-lock",class:"h-3 w-3 absolute left-24 bottom-4 cursor-pointer"})]))),128))]))])],2)],64)}}};export{rt as default};
