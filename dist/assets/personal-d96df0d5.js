import{o as l,a as n,b as e,C as v,d as c,w as M,l as y,t as i,u as N,c as I,r as b,f as _,g as S,h as p,k as A,F as E}from"./index-875e2a01.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const z={name:"modal",props:{openShow:{type:Boolean},size:{type:String,default:"Regular"},hideFooter:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},hideConfirm:{type:Boolean,default:!1},title:{type:String},content:{type:String,default:""}},data(){return{zhTitle:"",buttonName:"",buttonColor:""}},created(){var t=this;switch(t.title){case"add":t.zhTitle="新增",t.buttonName="SAVE",t.buttonColor="success";break;case"del":t.zhTitle="刪除",t.buttonName="DELETE",t.buttonColor="danger";break;case"upd":t.zhTitle="修改",t.buttonName="UPDATE",t.buttonColor="primary";break;default:t.zhTitle=t.title,t.buttonName="OK",t.buttonColor="success";break}},methods:{clickclose(){this.$emit("close")},confirm(){this.$emit("confirm"),this.$emit("close")}}},T={key:0,id:"staticModal","data-modal-backdrop":"static",tabindex:"-1","aria-hidden":"true",class:"flex items-center justify-center bg-slate-300 bg-opacity-40 fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},B={class:"relative w-full max-w-2xl max-h-full"},P={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},j={class:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600"},D={key:0,class:"text-xl font-semibold text-gray-900 dark:text-white"},L=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),V=e("span",{class:"sr-only"},"Close modal",-1),H=[L,V],U={class:"p-6 space-y-6"},R={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},G={key:0,class:"flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600"},O=["variant"];function J(t,u,d,m,r,a){return d.openShow?(l(),n("div",T,[e("div",B,[e("div",P,[e("div",j,[d.hideHeader?c("",!0):(l(),n("h3",D,[v(t.$slots,"header",{},()=>[y(i(r.zhTitle),1)])])),e("button",{onClick:u[0]||(u[0]=M(h=>a.clickclose(),["self"])),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"staticModal"},H)]),e("div",U,[e("p",R,[v(t.$slots,"body",{},()=>[y(i(d.content),1)])])]),v(t.$slots,"footer",{},()=>[d.hideFooter?c("",!0):(l(),n("div",G,[d.hideConfirm?c("",!0):(l(),n("button",{key:0,onClick:u[1]||(u[1]=h=>a.confirm()),variant:r.buttonColor,"data-modal-hide":"staticModal",type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},i(r.buttonName),9,O)),e("button",{onClick:u[2]||(u[2]=h=>a.clickclose()),"data-modal-hide":"staticModal",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"},"Cancel")]))])])])])):c("",!0)}const K=F(z,[["render",J]]),X={class:"h-60 relative z-0"},Y=["src"],q={class:"p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 mt-16 md:mt-16 lg:mt-0"},Q={class:"grid gap-6 mb-6 md:grid-cols-2 pt-8"},W=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"First name",-1),Z={class:"p-2"},ee=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Last name",-1),te={class:"p-2"},oe=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Company",-1),ae={class:"p-2"},se=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Phone number",-1),re={class:"p-2"},le={class:"mb-6"},ne=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email address",-1),de={class:"p-2"},ie={class:"flex items-center justify-center w-full"},ce={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"},ue={key:0,class:"flex flex-col items-center justify-center pt-5 pb-6"},he=e("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})],-1),me=e("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},[e("span",{class:"font-semibold"},"Click to upload"),y(" or drag and drop")],-1),fe=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"SVG, PNG, JPG or GIF (MAX. 800x400px)",-1),ge=[he,me,fe],be=["src"],pe={key:0,class:"mt-3"},ve={class:"text-lg ml-3"},xe={__name:"personal",setup(t){const u=N(),d=I(()=>u.state.loginInfo),m=b({}),r=b(),a=b(""),h=b(!1);k(),x();function k(){_({method:"post",url:"API/auth",params:{method:"userInfo",loginInfo:d.value}}).then(function(s){m.value=s.data.user_info})}function w(s){const o=s.target.files[0];r.value=o;const g=s.target.files.item(0),f=new FileReader;f.addEventListener("load",C),f.readAsDataURL(g)}function C(s){a.value=s.target.result}function $(){const s=new FormData;s.append("file",r.value),_({method:"post",url:"API/file",params:{method:"uploadHeadshot",loginInfo:d.value},data:s}).then(function(){x()})}function x(){const s=new FormData;s.append("file",r.value),_({method:"post",url:"API/file",params:{method:"getHeadshot",loginInfo:d.value},data:s}).then(function(o){r.value=o.data.get_file,a.value=o.data.get_file?o.data.get_file.file_path:""})}return(s,o)=>{const g=S("font-awesome-icon");return l(),n(E,null,[e("div",null,[e("div",X,[a.value==""?(l(),n("div",{key:0,class:"absolute top-28 -left-6 h-44 w-44 rounded-full bg-white border-4 cursor-pointer",onClick:o[0]||(o[0]=f=>h.value=!0)},[p(g,{icon:"fa-solid fa-user",class:"h-36 w-36 absolute left-3"})])):c("",!0),a.value!=""?(l(),n("img",{key:1,class:"absolute top-28 left-0 h-44 w-44 rounded-full bg-white border-4 cursor-pointer",src:a.value,onClick:o[1]||(o[1]=f=>h.value=!0)},null,8,Y)):c("",!0),p(g,{icon:"fa-solid fa-circle-plus",class:"h-8 w-8 absolute -bottom-6 md:-bottom-4 left-36 md:left-36 cursor-pointer",onClick:o[2]||(o[2]=f=>h.value=!0)})]),e("div",q,[e("div",Q,[e("div",null,[W,e("span",Z,i(m.value.FIRST_NAME),1)]),e("div",null,[ee,e("span",te,i(m.value.LAST_NAME),1)]),e("div",null,[oe,e("span",ae,i(m.value.COMPANY),1)]),e("div",null,[se,e("span",re,i(m.value.PHONE_NUMBER),1)])]),e("div",le,[ne,e("span",de,i(m.value.EMAIL),1)])])]),p(K,{title:"照片上傳",onConfirm:$,openShow:h.value,onClose:o[4]||(o[4]=f=>h.value=!1)},{body:A(()=>[e("div",ie,[e("label",ce,[a.value?c("",!0):(l(),n("div",ue,ge)),a.value?(l(),n("img",{key:1,class:"h-44 w-44 rounded-full bg-white border-4 cursor-pointer",src:a.value},null,8,be)):c("",!0),e("input",{id:"dropzone-file",type:"file",onChange:w,accept:"image/*",class:"hidden"},null,32)])]),r.value?(l(),n("div",pe,[p(g,{icon:"fa-solid fa-trash",class:"cursor-pointer h-6 w-6 text-red-600",onClick:o[3]||(o[3]=f=>{r.value=null,a.value=""})}),e("span",ve,i(r.value.name),1)])):c("",!0)]),_:1},8,["openShow"])],64)}}};export{xe as default};
