import{_ as C,u as A,c as F,r as h,f as v,g as N,o as i,a as c,b as e,h as u,d as p,t as m,n as S,k as E,F as M,E as P,G as D,l as L}from"./index-124aa391.js";import{M as G}from"./modal-ed5c79ec.js";import U from"./article-1c7c62eb.js";import"./sweetalert2.all-75d83f30.js";import"./PaperAirplaneIcon-2396592a.js";const r=_=>(P("data-v-01e9ef08"),_=_(),D(),_),V={class:"md:pl-72"},$={class:"h-60 relative z-0"},z=["src"],B={class:"p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 mt-16 md:mt-16 lg:mt-0"},H={class:"grid gap-6 mb-6 md:grid-cols-2 pt-8"},R=r(()=>e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"First name",-1)),j={class:"p-2"},T=r(()=>e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Last name",-1)),O={class:"p-2"},J=r(()=>e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Company",-1)),X={class:"p-2"},Y=r(()=>e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Phone number",-1)),q={class:"p-2"},K={class:"mb-6"},Q=r(()=>e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email address",-1)),W={class:"p-2"},Z={class:"flex items-center justify-center w-full"},ee={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"},te={key:0,class:"flex flex-col items-center justify-center pt-5 pb-6"},oe=r(()=>e("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},[e("span",{class:"font-semibold"},"Click to upload"),L(" or drag and drop")],-1)),se=r(()=>e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"SVG, PNG, JPG or GIF (MAX. 800x400px)",-1)),ae=["src"],le={key:0,class:"mt-3"},re={class:"text-lg ml-3"},ne={__name:"personal",setup(_){const x=A(),g=F(()=>x.state.loginInfo),n=h({}),a=h(),s=h(""),f=h(!1);y(),b();function y(){v({method:"post",url:"API/auth",params:{method:"userInfo",loginInfo:g.value}}).then(function(o){n.value=o.data.user_info})}function k(o){const t=o.target.files[0];a.value=t;const d=o.target.files.item(0),l=new FileReader;l.addEventListener("load",w),l.readAsDataURL(d)}function w(o){s.value=o.target.result}function I(){const o=new FormData;o.append("file",a.value),v({method:"post",url:"API/file",params:{method:"uploadHeadshot",loginInfo:g.value},data:o}).then(function(){b()})}function b(){const o=new FormData;o.append("file",a.value),v({method:"post",url:"API/file",params:{method:"getHeadshot",loginInfo:g.value},data:o}).then(function(t){a.value=t.data.get_file,s.value=t.data.get_file?t.data.get_file.file_path:""})}return(o,t)=>{const d=N("font-awesome-icon");return i(),c(M,null,[e("div",{class:S(g.value.mobile?"":"grid grid-cols-2")},[e("div",V,[e("div",$,[s.value==""?(i(),c("div",{key:0,class:"absolute top-28 md:-left-6 left-0 h-44 w-44 rounded-full bg-white border-4 cursor-pointer",onClick:t[0]||(t[0]=l=>f.value=!0)},[u(d,{icon:"fa-solid fa-user",class:"h-36 w-36 absolute left-3"})])):p("",!0),s.value!=""?(i(),c("img",{key:1,class:"absolute top-28 md:-left-6 left-0 h-44 w-44 rounded-full bg-white border-4 cursor-pointer",src:s.value,onClick:t[1]||(t[1]=l=>f.value=!0)},null,8,z)):p("",!0),u(d,{icon:"fa-solid fa-circle-plus",class:"h-8 w-8 absolute -bottom-6 md:-bottom-4 left-36 md:left-32 cursor-pointer",onClick:t[2]||(t[2]=l=>f.value=!0)})]),e("div",B,[e("div",H,[e("div",null,[R,e("span",j,m(n.value.FIRST_NAME),1)]),e("div",null,[T,e("span",O,m(n.value.LAST_NAME),1)]),e("div",null,[J,e("span",X,m(n.value.COMPANY),1)]),e("div",null,[Y,e("span",q,m(n.value.PHONE_NUMBER),1)])]),e("div",K,[Q,e("span",W,m(n.value.EMAIL),1)])])]),u(U)],2),u(G,{title:"照片上傳",onConfirm:I,openShow:f.value,onClose:t[4]||(t[4]=l=>f.value=!1)},{body:E(()=>[e("div",Z,[e("label",ee,[s.value?p("",!0):(i(),c("div",te,[u(d,{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400",icon:"fa-solid fa-cloud-arrow-up"}),oe,se])),s.value?(i(),c("img",{key:1,class:"h-44 w-44 rounded-full bg-white border-4 cursor-pointer",src:s.value},null,8,ae)):p("",!0),e("input",{id:"dropzone-file",type:"file",onChange:k,accept:"image/*",class:"hidden"},null,32)])]),a.value?(i(),c("div",le,[u(d,{icon:"fa-solid fa-trash",class:"cursor-pointer h-6 w-6 text-red-600",onClick:t[3]||(t[3]=l=>{a.value=null,s.value=""})}),e("span",re,m(a.value.name),1)])):p("",!0)]),_:1},8,["openShow"])],64)}}},fe=C(ne,[["__scopeId","data-v-01e9ef08"]]);export{fe as default};
